package injective

import (
	"encoding/hex"
	"testing"

	pbinj "github.com/streamingfast/firehose-cosmos/pb/sf/injective/type/v1"
	"github.com/stretchr/testify/require"
	"google.golang.org/protobuf/proto"
)

func Test_conversion(t *testing.T) {
	data, err := hex.DecodeString("08021ac8016661696c656420746f2065786563757465206d6573736167653b206d65737361676520696e6465783a20303a206661696c656420746f20757064617465206772616e742077697468206b657920011479ae439b834b9702e2d2b01e8e955b1c8455988414df31c202122f3a964cde0a1e15d2d67fabd32f982f636f736d6f732e646973747269627574696f6e2e763162657461312e4d7367576974686472617744656c656761746f725265776172643a20617574686f72697a6174696f6e206e6f7420666f756e64288092f40130ed9e043a660a0a636f696e5f7370656e7412370a077370656e646572122a696e6a316d7563757971736a39756166766e78377067307074356b6b30373461787475637470643034751801121f0a06616d6f756e74121333303030303030303030303030303030696e6a18013a6a0a0d636f696e5f726563656976656412380a087265636569766572122a696e6a313778706676616b6d32616d67393632796c73366638347a336b656c6c3863356c3673357965391801121f0a06616d6f756e74121333303030303030303030303030303030696e6a18013a9e010a087472616e7366657212390a09726563697069656e74122a696e6a313778706676616b6d32616d67393632796c73366638347a336b656c6c3863356c367335796539180112360a0673656e646572122a696e6a316d7563757971736a39756166766e78377067307074356b6b30373461787475637470643034751801121f0a06616d6f756e74121333303030303030303030303030303030696e6a18013a410a076d65737361676512360a0673656e646572122a696e6a316d7563757971736a39756166766e78377067307074356b6b303734617874756374706430347518013a5d0a027478121c0a03666565121333303030303030303030303030303030696e6a180112390a096665655f7061796572122a696e6a316d7563757971736a39756166766e78377067307074356b6b303734617874756374706430347518013a400a027478123a0a076163635f736571122d696e6a316d7563757971736a39756166766e78377067307074356b6b30373461787475637470643034752f373318013a6d0a02747812670a097369676e61747572651258654447565a555773504174683351785a63684955347a4f6d674f79334d466c6a3459706748474f5144614d4a344279396a35735a726a50377344577752616c4c4c5a3571664e4d756737566d31583466393737734a67413d18014205617574687a")
	require.NoError(t, err)

	deliverTx := &pbinj.TxResults{}
	err = proto.Unmarshal(data, deliverTx)
	require.NoError(t, err)
}
